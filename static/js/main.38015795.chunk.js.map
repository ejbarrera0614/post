{"version":3,"sources":["components/account/Login.jsx","config/constant.js","components/commons/ContentLoading.jsx","context/AppContext.js","firebase/config.js","firebase/postFirebase.js","hooks/useForm.js","images/userIcon.png","components/post/PostItemComment.jsx","components/post/PostItem.jsx","components/post/PostItemCreate.jsx","components/post/PostList.jsx","routers/PostRouter.jsx","routers/AppRouter.jsx","FoodApp.jsx","hooks/useFetch.js","index.js"],"names":["Login","constantsApp","ContentLoading","children","isLoading","className","AppContext","createContext","AppContextProvider","Provider","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","collection","db","collectionComments","useForm","initialState","useState","values","setValues","reset","handleInputChange","target","name","value","PostItemComment","nameAuthor","desc","date","dateFormat","Date","toDate","toLocaleDateString","src","userICon","alt","PostItem","id","index","comment","action","getproducts","a","where","orderBy","get","forEach","snap","comments","push","data","isMounted","current","setState","state","loading","error","useRef","useEffect","useGetComments","setStateModal","useContext","payload","add","then","ref","set","merge","isFirtsRender","catch","isShow","title","icon","useAddComment","actionAdd","loadingAdd","length","map","item","onSubmit","e","preventDefault","idAuthor","idPost","placeholder","autoComplete","rows","onChange","type","disabled","PostItemCreate","getAllPost","post","useAddPost","PostList","actionGet","querySnapshot","product","useGetAllPost","PostRouter","to","exact","path","component","AppRouter","FoodApp","stateModal","Swal","fire","text","confirmButtonText","url","fetch","response","json","fetchData","useFetch","lang","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.38015795.chunk.js","sourcesContent":["import React from 'react'\n\nexport const Login = () => {\n    return (\n        <h1>\n          Inicio de sesión  \n        </h1>\n    )\n}\n","export const constantsApp = {\n\t//RUTAS\n\tROUTE_POSTS: '/',\n/* \tROUTE_POST_CREATE: '/productos/crear',\n\tROUTE_POST_VIEW: '/productos/:productId', */\n\tROUTE_LOGIN: '/iniciar-sesion',\n\tROUTE_ACCOUNT: '/mi-cuenta',\n\tROUTE_ERROR: '/error',\n\n\t//ACCIONES A EJECUTAR EN EL CRUD\n\tACTION_CREATE: 'crear',\n\tACTION_EDIT: 'editar',\n\n\t//ENDPOINTS\n\tENDPOINT_LANG_ES: 'data/lang-es.json',\n};\n","import React from 'react';\n\nexport const ContentLoading = ({ children, isLoading = true }) => {\n  return (\n    <>\n      {isLoading ? (\n        <div className='lds-ring'>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      ) : (\n        <>{children}</>\n      )}\n    </>\n  );\n};\n","import { createContext } from 'react';\n\nconst AppContext = createContext([]);\n\nexport const AppContextProvider = AppContext.Provider;\nexport default AppContext;\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCNmqLe1d9z6esEbyQQ4wcIFA9EUA-Z0H4\",\n  authDomain: \"publicaciones-999c8.firebaseapp.com\",\n  projectId: \"publicaciones-999c8\",\n  storageBucket: \"publicaciones-999c8.appspot.com\",\n  messagingSenderId: \"551474545342\",\n  appId: \"1:551474545342:web:09126c401dd5f503f4d4ef\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase.firestore();\n","import { useState, useEffect, useRef, useContext } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { constantsApp } from '../config/constant';\nimport AppContext from '../context/AppContext';\nimport db from './config';\nconst collection = db.collection('post-test');\nconst collectionComments = db.collection('comments');\n\nconst productInterface = {\n  id: null,\n  name: '',\n  description: '',\n  price: null,\n};\nexport const useGetAllPost = () => {\n  const actionGet = async () => {\n    try {\n      const querySnapshot = await collection.orderBy('date', 'desc').get();\n      const post = [];\n      querySnapshot.forEach((product) => {\n        post.push({\n          id: product.id,\n          ...product.data(),\n        });\n      });\n      /**\n       * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n       */\n      if (isMounted.current) {\n        setState({\n          ...state,\n          data: post,\n          loading: false,\n          error: null,\n        });\n      }\n    } catch (error) {\n      if (isMounted.current) {\n        setState({\n          ...state,\n          data: null,\n          loading: false,\n          error: error,\n        });\n      }\n    }\n  };\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const [state, setState] = useState({\n    action: actionGet,\n    data: [],\n    loading: true,\n    error: null,\n  });\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    actionGet();\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return state;\n};\n\nexport const useGetSingleProduct = (id) => {\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const [state, setState] = useState({\n    data: productInterface,\n    loading: true,\n    error: null,\n  });\n  const isMounted = useRef(true);\n\n  /**\n   * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n   */\n  useEffect(() => {\n    try {\n      async function getproducts() {\n        const querySnapshot = await collection.where('id', '==', id).get();\n        querySnapshot.forEach((snap) => {\n          if (isMounted.current) {\n            setState({\n              data: snap.data(),\n              loading: false,\n              error: null,\n            });\n          }\n        });\n      }\n      getproducts();\n    } catch (error) {\n      setState({\n        data: null,\n        loading: false,\n        error: error,\n      });\n    }\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return state;\n};\n\nexport const useGetComments = (id) => {\n  const action = () => {\n    try {\n      const comments = [];\n      async function getproducts() {\n        const querySnapshot = await collectionComments\n          .where('idPost', '==', id)\n          .orderBy('date', 'desc')\n          .get();\n        querySnapshot.forEach((snap) => {\n          comments.push(snap.data());\n        });\n        if (isMounted.current) {\n          setState({\n            ...state,\n            data: comments,\n            loading: false,\n            error: null,\n          });\n        }\n      }\n      getproducts();\n    } catch (error) {\n      setState({\n        ...state,\n        data: null,\n        loading: false,\n        error: error,\n      });\n    }\n  };\n  const [state, setState] = useState({\n    action: action,\n    data: [],\n    loading: true,\n    error: null,\n  });\n  const isMounted = useRef(true);\n\n  /**\n   * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n   */\n  useEffect(() => {\n    isMounted.current = true;\n    action();\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return state;\n};\n\nexport const useUpdateProduct = (payload) => {\n  //ASe declara antes del state por un error\n  const action = () => {\n    setState({\n      ...state,\n      loading: true,\n      error: null,\n    });\n    collection\n      .doc('CXQKHmGRIKbS6gKR94Fv')\n      .update(payload)\n      .then(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: null,\n        });\n      })\n      .catch(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: 'Ocurrio un error',\n        });\n      });\n  };\n  const [state, setState] = useState({\n    action,\n    loading: false,\n    error: null,\n  });\n\n  return state;\n};\n\nexport const useAddComment = () => {\n  const action = (payload) => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    collectionComments\n      .add(payload)\n      .then((ref) => {\n        ref.set({ id: ref.id }, { merge: true }).then(() => {\n          setState({\n            ...state,\n            loading: false,\n            error: null,\n            isFirtsRender: false,\n          });\n        });\n      })\n      .catch(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: 'Ocurrio un error',\n          isFirtsRender: false,\n        });\n        setStateModal({\n          isShow: true,\n          title: 'Ocurrió un error.',\n          desc: 'No se pudo agregar el comentaro, intenta más tarde.',\n          icon: 'error',\n        });\n      });\n  };\n  const { setStateModal } = useContext(AppContext);\n  const [state, setState] = useState({\n    action,\n    loading: false,\n    error: null,\n    isFirtsRender: true,\n  });\n\n  return state;\n};\n\nexport const useAddPost = () => {\n  const action = async (payload) => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    collection\n      .add(payload)\n      .then((ref) => {\n        ref.set({ id: ref.id }, { merge: true }).then(() => {\n          setState({\n            ...state,\n            loading: false,\n            error: null,\n            isFirtsRender: false,\n          });\n          setStateModal({\n            title: 'Estado creado',\n            desc: 'Se ha creado la publicación',\n            isShow: true,\n          });\n        });\n      })\n      .catch(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: 'Ocurrio un error',\n          isFirtsRender: false,\n        });\n        setStateModal({\n          isShow: true,\n          title: 'Ocurrió un error.',\n          desc: 'No se pudo crear la publicación, intenta más tarde.',\n          icon: 'error',\n        });\n      });\n  };\n\n  const { setStateModal } = useContext(AppContext);\n  const [state, setState] = useState({\n    action,\n    loading: false,\n    error: null,\n    isFirtsRender: true,\n  });\n\n  return state;\n};\n","import { useState } from 'react';\n\n/**\n * Maneja el estado de los inputs en un formulario\n */\nexport const useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[target.name]: target.value,\n\t\t});\n\t};\n\n\treturn [values, handleInputChange, reset];\n};\n","export default __webpack_public_path__ + \"static/media/userIcon.18fcee80.png\";","import React from 'react';\nimport userICon from '../../images/userIcon.png';\n\nexport const PostItemComment = ({ nameAuthor, desc, date }) => {\n  const dateFormat = new Date(date?.toDate()).toLocaleDateString();\n  return (\n    <div className='comment'>\n      <div className='item-profile'>\n        <img className='profile-img' src={userICon} alt={nameAuthor}></img>\n      </div>\n      <div className='comment-section'>\n        <h4>{nameAuthor}</h4>\n        <p>{desc}</p>\n        <p className=\"w-100\">{dateFormat}</p>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\n//hooks\nimport { useForm } from '../../hooks/useForm';\n//components\nimport { ContentLoading } from '../commons/ContentLoading';\nimport { PostItemComment } from './PostItemComment';\n//resources\nimport userICon from '../../images/userIcon.png';\nimport { useAddComment, useGetComments } from '../../firebase/postFirebase';\n\nexport const PostItem = ({ id, desc, nameAuthor, date, index }) => {\n  const dateFormat = new Date(date?.toDate()).toLocaleDateString();\n\n  //hook para el formulario de agrgar comentario\n  const [value, handleInputChange, reset] = useForm({ comment: '' });\n  const { action, data, loading } = useGetComments(id);\n  const {\n    action: actionAdd,\n    loading: loadingAdd,\n    isFirtsRender,\n  } = useAddComment();\n\n  //Use effect que se ejecuta acciones\n  useEffect(() => {\n    if (!isFirtsRender && !loadingAdd) {\n      reset();\n      action();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadingAdd]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    actionAdd({\n      date: new Date(),\n      desc: value.comment,\n      idAuthor: 'KWfShEgVFQoLdDoULkw8',\n      idPost: id,\n      nameAuthor: 'Admin',\n    });\n    reset();\n  };\n\n  return (\n    <>\n      <div className={`post-item my-2 ${index === 0 && 'animate__fadeInDown'}`}>\n        <div className='post-item-content'>\n          <div className='item-profile'>\n            <img className='profile-img' src={userICon} alt={nameAuthor}></img>\n          </div>\n          <div className='post-item-desc'>\n            <div className='post-desc-group-name'>\n              <p className='post-item-name'>{nameAuthor}</p>\n              <p className='post-item-time'>{dateFormat}</p>\n            </div>\n            <p className='post-item-desc'>{desc}</p>\n            <div className='post-item-buttons'>\n              <button>Reaccionar</button>\n              <button>Comentar</button>\n            </div>\n          </div>\n        </div>\n        <div className='post-item-reaction'>\n          <p>Reacciones</p>\n          <p>{data.length} comentario{data.length > 1 && 's'}</p>\n        </div>\n\n        <div className='comments-list'>\n          <ContentLoading isLoading={loading}>\n            {data?.length ? (\n              data.map((item, index) => {\n                return (\n                  <PostItemComment key={item.id} {...item} index={index} />\n                );\n              })\n            ) : (\n              <p>No hay comentarios</p>\n            )}\n          </ContentLoading>\n        </div>\n\n        <form onSubmit={handleSubmit} className='comment-form'>\n          <textarea\n            name='comment'\n            placeholder='Escribe un comentario'\n            autoComplete='off'\n            rows='1'\n            className='comment'\n            value={value.comment}\n            onChange={handleInputChange}\n          ></textarea>\n          <ContentLoading isLoading={false}>\n            <button type='submit' disabled={!value.comment}>\n              <span>Publicar</span>\n            </button>\n          </ContentLoading>\n        </form>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useAddPost } from '../../firebase/postFirebase';\nimport { useForm } from '../../hooks/useForm';\nimport { ContentLoading } from '../commons/ContentLoading';\n\nexport const PostItemCreate = ({ getAllPost }) => {\n  const [value, handleInputChange, reset] = useForm({ post: '' });\n  const { action, loading, isFirtsRender } = useAddPost();\n\n  //Use effect que se ejecuta acciones\n  useEffect(() => {\n    if (!isFirtsRender && !loading) {\n      reset();\n      getAllPost();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loading]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n     action({\n      date: new Date(),\n      desc: value.post,\n      idAuthor: 'e3Op7jLzPe3gJIdbmmzH',\n      nameAuthor: 'Juan 2',\n    });\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className='post-form'>\n        <textarea\n          name='post'\n          placeholder='Escribe aquí tu estado'\n          autoComplete='off'\n          className='post-text'\n          value={value.post}\n          onChange={handleInputChange}\n        ></textarea>\n        <ContentLoading isLoading={false}>\n          <button type='submit' disabled={!value.post}>\n            Publicar\n          </button>\n        </ContentLoading>\n      </form>\n    </>\n  );\n};\n","import React from 'react';\n\n//Components\nimport { ContentLoading } from '../commons/ContentLoading';\n\n//config\nimport { constantsApp } from '../../config/constant';\n\n//hooks\nimport { useGetAllPost } from '../../firebase/postFirebase';\nimport { PostItem } from './PostItem';\nimport { PostItemCreate } from './PostItemCreate';\n\nexport const PostList = () => {\n  const { action, data, loading } = useGetAllPost();\n\n  return (\n    <>\n      <PostItemCreate getAllPost={action} />\n      <div className='content-list'>\n        <ContentLoading isLoading={loading}>\n          {data?.length ? (\n            data.map((item, index) => {\n              return <PostItem key={item.id} {...item} index={index}/>;\n            })\n          ) : (\n            <p>No hay publicaciones</p>\n          )}\n        </ContentLoading>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport { PostList } from '../components/post/PostList';\nimport { constantsApp } from '../config/constant';\n\nexport const PostRouter = () => {\n  return (\n    <>\n      <header className='post-banner'>\n        <Link to={constantsApp.ROUTE_POSTS} className='post-title'>\n          Publicaciones\n        </Link>\n      </header>\n\n      <section className='post-section'>\n        <Switch>\n          <Route\n            exact\n            path={constantsApp.ROUTE_POSTS}\n            component={PostList}\n          />\n        </Switch>\n      </section>\n    </>\n  );\n};\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { Login } from '../components/account/Login';\nimport { constantsApp } from '../config/constant';\nimport { PostRouter } from './PostRouter';\n\nexport const AppRouter = () => {\n  return (\n    <Router>\n      <div className='main'>\n        <Switch>\n          <Route path={constantsApp.ROUTE_POSTS} component={PostRouter} />\n          <Route path={constantsApp.ROUTE_LOGIN} component={Login} />\n          <Redirect to={constantsApp.ROUTE_POSTS} />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { AppRouter } from './routers/AppRouter';\nimport { AppContextProvider } from './context/AppContext';\nimport Swal from 'sweetalert2';\n\nimport { useFetch } from './hooks/useFetch';\nimport { constantsApp } from './config/constant';\nimport { ContentLoading } from './components/commons/ContentLoading';\n\nimport './styles/styles.scss';\n\nexport const FoodApp = () => {\n  const [stateModal, setStateModal] = useState({\n    isShow: false,\n    title: '',\n    desc: '',\n    icon: '',\n  });\n  const { isShow, title, desc, icon } = stateModal;\n  useEffect(() => {\n    isShow &&\n      Swal.fire({\n        title: title,\n        text: desc,\n        icon: icon ? icon : 'success',\n        confirmButtonText: 'Aceptar',\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stateModal]);\n  const { data: lang, loading } = useFetch(constantsApp.ENDPOINT_LANG_ES);\n\n  return (\n    <>\n      <ContentLoading isLoading={loading}>\n        <AppContextProvider value={{ stateModal, setStateModal, lang }}>\n          <AppRouter />\n        </AppContextProvider>\n      </ContentLoading>\n    </>\n  );\n};\n","import { useState, useEffect, useRef } from 'react';\n\nexport const useFetch = (url) => {\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const isMounted = useRef(true);\n  const [state, setState] = useState({\n    data: null,\n    loading: true,\n    error: null,\n  });\n\n  /**\n   * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n   */\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const response = await fetch(url);\n        const { data } = await response.json();\n        if (isMounted.current) {\n          setState({\n            loading: false,\n            error: null,\n            data,\n          });\n        }\n      } catch (error) {\n        setState({\n          data: null,\n          loading: false,\n          error: 'No se pudo cargar la info',\n        });\n      }\n    }\n    fetchData();\n  }, [url]);\n\n  return state;\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { FoodApp } from './FoodApp';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<FoodApp />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}