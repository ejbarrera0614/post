{"version":3,"sources":["components/account/Login.jsx","config/constant.js","components/commons/ContentLoading.jsx","context/AppContext.js","firebase/config.js","firebase/postFirebase.js","hooks/useForm.js","images/userIcon.png","components/post/PostItemComment.jsx","firebase/commentsFirebase.js","images/like.svg","images/dislike.svg","images/amazing.svg","firebase/reactionsFirebase.js","components/post/ButtonsReaction.jsx","components/post/PostItem.jsx","firebase/userFirebase.js","components/user/UserForm.jsx","components/post/PostItemCreate.jsx","components/post/PostList.jsx","routers/PostRouter.jsx","routers/AppRouter.jsx","FoodApp.jsx","hooks/useFetch.js","index.js"],"names":["Login","constantsApp","ROUTE_POSTS","ROUTE_ERROR","ACTION_CREATE","ACTION_EDIT","ENDPOINT_LANG_ES","COLLECTION_POST","COLLECTION_COMMENTS","COLLECTION_REACTIONS","COLLECTION_USERS","REACTION_LIKE","REACTION_DISLIKE","REACTION_AMAZING","ContentLoading","children","isLoading","className","AppContext","createContext","AppContextProvider","Provider","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","collection","db","useForm","initialState","useState","values","setValues","reset","handleInputChange","target","name","value","PostItemComment","nameAuthor","desc","date","dateFormat","Date","toDate","toLocaleDateString","src","userICon","alt","ButtonsReaction","idPost","setReactionsState","myReaction","setMyReaction","id","action","getproducts","a","doc","get","forEach","snap","comments","push","data","isMounted","current","setState","state","loading","error","useRef","useEffect","useGetReactions","actionGet","setStateModal","useContext","payload","idAuthor","set","then","isFirtsRender","catch","console","log","isShow","title","icon","useAddReaction","actionAdd","loadingAdd","isHover","totalTypesReaction","reduce","accum","type","handleMouseEnterOrLeave","isEnter","document","querySelector","classList","add","setTimeout","remove","handleClick","reaction","onMouseEnter","onMouseLeave","likeIcon","dislikeIcon","amazingIcon","onClick","PostItem","reactionsState","comment","orderBy","useGetComments","ref","merge","useAddComment","like","dislike","amazing","length","map","item","index","onSubmit","e","preventDefault","placeholder","autoComplete","rows","onChange","disabled","UserForm","userName","password","where","limit","querySnapshot","user","userSnap","isAdmin","setStateUser","useLogin","actionLogin","htmlFor","PostItemCreate","getAllPost","stateUser","post","useAddPost","Object","entries","PostList","postSnap","useGetAllPost","PostRouter","to","style","marginLeft","exact","path","component","AppRouter","ROUTE_LOGIN","FoodApp","stateModal","Swal","fire","text","confirmButtonText","url","fetch","response","json","fetchData","useFetch","lang","ReactDOM","render","StrictMode","getElementById"],"mappings":"yMAEaA,EAAQ,WACjB,OACI,sDCJKC,EAAe,CAE3BC,YAAa,IACbC,YAAa,SAGbC,cAAe,QACfC,YAAa,SAGbC,iBAAkB,oBAGlBC,gBAAiB,YACjBC,oBAAqB,WACrBC,qBAAsB,YACtBC,iBAAkB,QAGlBC,cAAe,OACfC,iBAAkB,UAClBC,iBAAkB,W,OCnBNC,EAAiB,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,SAAiC,IAAvBC,iBAAuB,SAChE,OACE,mCACGA,EACC,sBAAKC,UAAU,WAAf,UACE,wBACA,wBACA,wBACA,2BAGF,mCAAGF,O,wBCXLG,EAAaC,wBAAc,IAEpBC,EAAqBF,EAAWG,SAC9BH,I,cCOfI,IAASC,cATc,CACrBC,OAAQ,0CACRC,WAAY,sCACZC,UAAW,sBACXC,cAAe,kCACfC,kBAAmB,eACnBC,MAAO,8CAKMP,UAASQ,YCTlBC,EAAaC,EAAGD,WAAW9B,EAAaM,iB,QCAjC0B,EAAU,WAAwB,IAAvBC,EAAsB,uDAAP,GAAO,EACjBC,mBAASD,GADQ,mBACtCE,EADsC,KAC9BC,EAD8B,KAGvCC,EAAQ,WACbD,EAAUH,IAGLK,EAAoB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAC5BH,EAAU,2BACND,GADK,kBAEPI,EAAOC,KAAOD,EAAOE,UAIxB,MAAO,CAACN,EAAQG,EAAmBD,ICnBrB,MAA0B,qCCG5BK,EAAkB,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,KAC5CC,EAAa,IAAIC,KAAJ,OAASF,QAAT,IAASA,OAAT,EAASA,EAAMG,UAAUC,qBAC5C,OACE,sBAAKjC,UAAU,UAAf,UACE,qBAAKA,UAAU,eAAf,SACE,qBAAKA,UAAU,cAAckC,IAAKC,EAAUC,IAAKT,MAEnD,sBAAK3B,UAAU,kBAAf,UACE,mBAAGA,UAAU,aAAb,SAA2B2B,IAC3B,4BAAKC,IACL,mBAAG5B,UAAU,kBAAb,SAAgC8B,WCRlChB,EAAaC,EAAGD,WAAW9B,EAAaM,iBCL/B,MAA0B,iCCA1B,MAA0B,oCCA1B,MAA0B,oCCKnCwB,EAAaC,EAAGD,WAAW9B,EAAaM,iBCKjC+C,EAAkB,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,kBAAwB,EAC5BrB,mBAAS,IADmB,mBACzDsB,EADyD,KAC7CC,EAD6C,ODHnC,SAACC,GAC9B,IAAMC,EAAS,WACb,IAAK,IAEYC,EAFb,uCAEF,sBAAAC,EAAA,sEAC8B/B,EACzBgC,IAAIJ,GACJ5B,WAAW9B,EAAaQ,sBACxBuD,MAJL,cAKgBC,SAAQ,SAACC,GACrBC,EAASC,KAAKF,EAAKG,WAEjBC,EAAUC,SACZC,EAAS,2BACJC,GADG,IAENJ,KAAMF,EACNO,SAAS,EACTC,MAAO,QAbb,2CAFE,qDACIR,EAAW,GAkBjBN,IACA,MAAOc,GACPH,EAAS,2BACJC,GADG,IAENJ,KAAM,KACNK,SAAS,EACTC,MAAOA,OA3BwB,EA+BXxC,mBAAS,CACjCyB,OAAQA,EACRS,KAAM,GACNK,SAAS,EACTC,MAAO,OAnC4B,mBA+B9BF,EA/B8B,KA+BvBD,EA/BuB,KAqC/BF,EAAYM,kBAAO,GAczB,OATAC,qBAAU,WAGR,OAFAP,EAAUC,SAAU,EACpBX,IACO,WACLU,EAAUC,SAAU,KAGrB,IAEIE,EC9C6BK,CAAgBvB,GAApCwB,EAFgD,EAExDnB,OAAmBS,EAFqC,EAErCA,KAFqC,EDkDpC,WAC5B,IAmCQW,EAAkBC,qBAAW/D,GAA7B8D,cApC0B,EAqCR7C,mBAAS,CACjCyB,OArCa,SAACL,EAAQ2B,GACtBV,EAAS,2BACJC,GADG,IAENC,SAAS,KAEX3C,EACGgC,IAAIR,GACJxB,WAAW9B,EAAaQ,sBACxBsD,IAAImB,EAAQC,UACZC,IAAIF,GACJG,MAAK,WACJb,EAAS,2BACJC,GADG,IAENC,SAAS,EACTC,MAAO,KACPW,eAAe,QAGlBC,OAAM,SAACZ,GACNa,QAAQC,IAAId,GACZH,EAAS,2BACJC,GADG,IAENC,SAAS,EACTC,MAAO,mBACPW,eAAe,KAEjBN,EAAc,CACZU,QAAQ,EACRC,MAAO,uBACP9C,KACE,uEACF+C,KAAM,cAOZlB,SAAS,EACTC,MAAO,KACPW,eAAe,IAzCiB,mBAqC3Bb,EArC2B,KAqCpBD,EArCoB,KA4ClC,OAAOC,ECvFHoB,GAHMC,EAJsD,EAI9DlC,OACSmC,EALqD,EAK9DrB,QACAY,EAN8D,EAM9DA,cAEEU,GAAU,EAEdnB,qBAAU,WACHS,GAAkBS,GACrBhB,MAGD,CAACgB,IAGJlB,qBAAU,WAAO,IAAD,EACRoB,EAAqB5B,EAAK6B,QAC9B,SAACC,EAAD,GAAgC,IAAtBC,EAAqB,EAArBA,KAAMjB,EAAe,EAAfA,SAMd,OALKgB,EAAMC,KAAOD,EAAMC,GAAQ,GAChCD,EAAMC,IAAS,EAEE,yBAAbjB,GAAqCzB,EAAc0C,GAEhDD,KAPgB,mBAUtBlG,EAAaY,iBAAmB,GAVV,cAWtBZ,EAAaW,iBAAmB,GAXV,cAYtBX,EAAaU,cAAgB,GAZP,IAe3B6C,EAAkByC,KAEjB,CAAC5B,IAGJ,IAAMgC,EAA0B,SAACC,GAC3BA,GACFN,GAAU,EACVO,SACGC,cADH,mBAC6BjD,IAC1BkD,UAAUC,IAAI,iBAEjBV,GACEW,YAAW,WACTX,GAAU,EACVO,SACGC,cADH,mBAC6BjD,IAC1BkD,UAAUG,OAAO,kBACnB,MAIHC,EAAc,SAACC,GACnBhB,EAAUvC,EAAQ,CAChB6C,KAAMU,EACN3B,SAAU,0BAId,OACE,sBAAKlE,UAAU,4BAAf,UACE,oBACEA,UAAU,kBACV8F,aAAc,WACZV,GAAwB,IAE1BW,aAAc,WACZX,GAAwB,IAN5B,UA+BG5C,IAAexD,EAAaU,eAC3B,qCACE,qBAAKwC,IAAK8D,EAAU5D,IAAI,SAD1B,eAIDI,IAAexD,EAAaW,kBAC3B,qCACE,qBAAKuC,IAAK+D,EAAa7D,IAAI,SAD7B,kBAIDI,IAAexD,EAAaY,kBAC3B,qCACE,qBAAKsC,IAAKgE,EAAa9D,IAAI,SAD7B,iBAIAI,GAAc,iBAElB,sBAAKE,GAAE,kBAAaJ,GAAUtC,UAAU,kBAAxC,UACE,qBAAKA,UAAU,UAEf,qBACEkC,IAAK8D,EACL5D,IAAI,OACJpC,UAAU,QACVmG,QAAS,kBAAMP,EAAY5G,EAAaU,kBAG1C,qBACEwC,IAAK+D,EACL7D,IAAI,UACJ+D,QAAS,kBAAMP,EAAY5G,EAAaW,qBAG1C,qBACEuC,IAAKgE,EACL9D,IAAI,UACJ+D,QAAS,kBAAMP,EAAY5G,EAAaY,wBAG5C,6CCrIOwG,EAAW,SAAC,GAAoC,IAAD,EAAjC1D,EAAiC,EAAjCA,GAAId,EAA6B,EAA7BA,KAAMD,EAAuB,EAAvBA,WAAYE,EAAW,EAAXA,KAAW,EACdX,oBAAQ,mBACjDlC,EAAaY,iBAAmB,GADiB,cAEjDZ,EAAaW,iBAAmB,GAFiB,cAGjDX,EAAaU,cAAgB,GAHoB,IADM,mBACnD2G,EADmD,KACnC9D,EADmC,OAMhBvB,EAAQ,CAAEsF,QAAS,KANH,mBAMnD7E,EANmD,KAM5CH,EAN4C,KAMzBD,EANyB,ONL9B,SAACqB,GAC7B,IAAMC,EAAS,WACb,IAAK,IAEYC,EAFb,uCAEF,sBAAAC,EAAA,sEAC8B/B,EACzBgC,IAAIJ,GACJ5B,WAAW9B,EAAaO,qBACxBgH,QAAQ,OAAQ,QAChBxD,MALL,cAMgBC,SAAQ,SAACC,GACrBC,EAASC,KAAKF,EAAKG,WAEjBC,EAAUC,SACZC,EAAS,2BACJC,GADG,IAENJ,KAAMF,EACNO,SAAS,EACTC,MAAO,QAdb,2CAFE,qDACIR,EAAW,GAmBjBN,IACA,MAAOc,GACPH,EAAS,2BACJC,GADG,IAENJ,KAAM,KACNK,SAAS,EACTC,MAAOA,OA5BuB,EAgCVxC,mBAAS,CACjCyB,OAAQA,EACRS,KAAM,GACNK,SAAS,EACTC,MAAO,OApC2B,mBAgC7BF,EAhC6B,KAgCtBD,EAhCsB,KAsC9BF,EAAYM,kBAAO,GAczB,OATAC,qBAAU,WAGR,OAFAP,EAAUC,SAAU,EACpBX,IACO,WACLU,EAAUC,SAAU,KAGrB,IAEIE,EMxC6BgD,CAAe9D,GAAnCoB,EAP0C,EAOlDnB,OAAmBS,EAP+B,EAO/BA,KAP+B,ENiD/B,WAC3B,IAkCQW,EAAkBC,qBAAW/D,GAA7B8D,cAnCyB,EAoCP7C,mBAAS,CACjCyB,OApCa,SAACL,EAAQ2B,GACtBV,EAAS,2BACJC,GADG,IAENC,SAAS,KAEX3C,EACGgC,IAAIR,GACJxB,WAAW9B,EAAaO,qBACxBkG,IAAIxB,GACJG,MAAK,SAACqC,GACLA,EAAItC,IAAI,CAAEzB,GAAI+D,EAAI/D,IAAM,CAAEgE,OAAO,IAAQtC,MAAK,WAC5Cb,EAAS,2BACJC,GADG,IAENC,SAAS,EACTC,MAAO,KACPW,eAAe,WAIpBC,OAAM,WACLf,EAAS,2BACJC,GADG,IAENC,SAAS,EACTC,MAAO,mBACPW,eAAe,KAEjBN,EAAc,CACZU,QAAQ,EACRC,MAAO,uBACP9C,KAAM,yDACN+C,KAAM,cAOZlB,SAAS,EACTC,MAAO,KACPW,eAAe,IAxCgB,mBAoC1Bb,EApC0B,KAoCnBD,EApCmB,KA2CjC,OAAOC,EMhFHmD,GAHM9B,EATgD,EASxDlC,OACSmC,EAV+C,EAUxDrB,QACAY,EAXwD,EAWxDA,cAEIvC,EAAa,IAAIC,KAAJ,OAASF,QAAT,IAASA,OAAT,EAASA,EAAMG,UAAUC,qBAE5C2B,qBAAU,WAEHS,GAAkBS,IACrBzD,IACAyC,OAGD,CAACgB,IAaJ,OACE,mCACE,sBAAK9E,UAAS,kBAAd,UACE,sBAAKA,UAAU,oBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,qBAAKA,UAAU,cAAckC,IAAKC,EAAUC,IAAKT,MAEnD,sBAAK3B,UAAU,iBAAf,UACE,sBAAKA,UAAU,uBAAf,UACE,mBAAGA,UAAU,4BAAb,SAA0C2B,IAC1C,mBAAG3B,UAAU,2BAAb,SAAyC8B,OAE3C,4BAAIF,IAEJ,cAAC,EAAD,CACEU,OAAQI,EACRH,kBAAmBA,UAKzB,sBAAKvC,UAAU,qBAAf,UACE,sBAAKA,UAAU,0BAAf,WACiB,OAAdqG,QAAc,IAAdA,OAAA,EAAAA,EAAgBO,MAAO,GAAK,qBAAK5G,UAAU,kBAC7B,OAAdqG,QAAc,IAAdA,OAAA,EAAAA,EAAgBQ,SAAU,GACzB,qBAAK7G,UAAU,oBAEF,OAAdqG,QAAc,IAAdA,OAAA,EAAAA,EAAgBS,SAAU,GACzB,qBAAK9G,UAAU,mBAEjB,6BACiB,OAAdqG,QAAc,IAAdA,OAAA,EAAAA,EAAgBS,UAAhB,OACCT,QADD,IACCA,OADD,EACCA,EAAgBO,OADjB,OAECP,QAFD,IAECA,OAFD,EAECA,EAAgBQ,cAGtB,4BACGzD,EAAK2D,OAAS,GACb,qCACG3D,EAAK2D,OADR,cAC2B3D,EAAK2D,OAAS,GAAK,YAMpD,qBAAK/G,UAAU,gBAAf,SACGoD,GACCA,EAAK4D,KAAI,SAACC,EAAMC,GACd,OACE,8BACE,cAAC,EAAD,2BAAqBD,GAArB,IAA2BC,MAAOA,MAD1BD,EAAKvE,SAOvB,uBAAMyE,SAnES,SAACC,GACpBA,EAAEC,iBACFxC,EAAUnC,EAAI,CACZb,KAAM,IAAIE,KACVH,KAAMH,EAAM6E,QACZpC,SAAU,uBACVvC,WAAY,UAEdN,KA2DkCrB,UAAS,gBAAvC,UACE,0BACEwB,KAAK,UACL8F,YAAY,wBACZC,aAAa,MACbC,KAAK,IACLxH,UAAU,UACVyB,MAAOA,EAAM6E,QACbmB,SAAUnG,IAEZ,cAAC,EAAD,CAAgBvB,WAAW,EAA3B,SACE,wBAAQoF,KAAK,SAASuC,UAAWjG,EAAM6E,QAAvC,SACE,yDC9GRxF,EAAaC,EAAGD,WAAW9B,EAAaS,kBCAjCkI,EAAW,WAAO,IAAD,EACc3G,EAAQ,CAChD4G,SAAU,GACVC,SAAU,KAHgB,mBACrBpG,EADqB,KACdH,EADc,KACKD,EADL,ODEN,WACtB,IAAMyC,EAAS,uCAAG,mCAAAjB,EAAA,6DAAS+E,EAAT,EAASA,SAAUC,EAAnB,EAAmBA,SAAnB,kBAEc/G,EACzBgH,MAAM,WAAY,KAAMF,GACxBE,MAAM,WAAY,KAAMD,GACxBE,MAAM,GACNhF,MANW,OAERiF,EAFQ,OAOVC,EAAO,GACXD,EAAchF,SAAQ,SAACkF,GACrB,IAAM9E,EAAO8E,EAAS9E,OACtBmB,QAAQC,IAAIpB,GACRA,IACF6E,EAAO,CACLvF,GAAIU,EAAKV,GACTkF,SAAUxE,EAAKwE,SACfO,QAAS/E,EAAK+E,aAOhB9E,EAAUC,UACZ8E,EAAaH,GACb1E,EAAS,2BACJC,GADG,IAENC,SAAS,EACTC,MAAO,SA3BG,kDA+BVL,EAAUC,SACZC,EAAS,2BACJC,GADG,IAENC,SAAS,EACTC,MAAM,EAAD,MAnCK,0DAAH,sDADa,EA2CFxC,mBAAS,CACjCyB,OAAQmB,EACRL,SAAS,EACTC,MAAO,OA9CmB,mBA2CrBF,EA3CqB,KA2CdD,EA3Cc,KAgDpB6E,EAAiBpE,qBAAW/D,GAA5BmI,aACF/E,EAAYM,kBAAO,GASzB,OAPAC,qBAAU,WACR,OAAO,WACLP,EAAUC,SAAU,KAGrB,IAEIE,ECnDH6E,GAFMC,EAPkB,EAO1B3F,OACAc,EAR0B,EAQ1BA,QAQF,OACE,mCACE,uBAAM0D,SAPW,SAACC,GACpBA,EAAEC,iBACFiB,EAAY7G,GACZJ,KAIgCrB,UAAU,aAAxC,UACE,sBAAKA,UAAU,iBAAf,UACE,sBAAKA,UAAU,cAAf,UACE,uBAAOuI,QAAQ,OAAf,sBACA,uBACEpD,KAAK,OACLzC,GAAG,OACHlB,KAAK,WACL+F,aAAa,MACbE,SAAUnG,EACVG,MAAOA,EAAMmG,SACbN,YAAY,0BAGhB,sBAAKtH,UAAU,cAAf,UACE,uBAAOuI,QAAQ,OAAf,uBACA,uBACEpD,KAAK,WACLzC,GAAG,OACHlB,KAAK,WACL+F,aAAa,MACbE,SAAUnG,EACVgG,YAAY,2BACZ7F,MAAOA,EAAMoG,iBAInB,cAAC,EAAD,CAAgB9H,WAAY0D,EAA5B,SACE,sBAAKzD,UAAU,kBAAf,UACE,wBAAQmF,KAAK,SAASuC,UAAWjG,EAAMmG,WAAanG,EAAMoG,SAA1D,+BAGA,kCACA,wBAAQ1C,KAAK,SAASuC,UAAWjG,EAAMmG,WAAanG,EAAMoG,SAA1D,oCCjDCW,EAAiB,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACvBC,EAAc1E,qBAAW/D,GAAzByI,UADwC,EAEN1H,EAAQ,CAAE2H,KAAM,KAFV,mBAEzClH,EAFyC,KAElCH,EAFkC,KAEfD,EAFe,ObqDxB,WACxB,IAAMsB,EAAM,uCAAG,WAAOsB,GAAP,SAAApB,EAAA,sDACbU,EAAS,2BACJC,GADG,IAENC,SAAS,KAEX3C,EACG2E,IAAIxB,GACJG,MAAK,SAACqC,GACLA,EAAItC,IAAI,CAAEzB,GAAI+D,EAAI/D,IAAM,CAAEgE,OAAO,IAAQtC,MAAK,WAC5Cb,EAAS,2BACJC,GADG,IAENC,SAAS,EACTC,MAAO,KACPW,eAAe,KAEjBN,EAAc,CACZW,MAAO,gBACP9C,KAAM,iCACN6C,QAAQ,UAIbH,OAAM,WACLf,EAAS,2BACJC,GADG,IAENC,SAAS,EACTC,MAAO,mBACPW,eAAe,KAEjBN,EAAc,CACZU,QAAQ,EACRC,MAAO,uBACP9C,KAAM,4DACN+C,KAAM,aAjCC,2CAAH,sDAsCJZ,EAAkBC,qBAAW/D,GAA7B8D,cAvCsB,EAwCJ7C,mBAAS,CACjCyB,SACAc,SAAS,EACTC,MAAO,KACPW,eAAe,IA5Ca,mBAwCvBb,EAxCuB,KAwChBD,EAxCgB,KA+C9B,OAAOC,EajGoCoF,GAAnCjG,EAHwC,EAGxCA,OAAQc,EAHgC,EAGhCA,QAASY,EAHuB,EAGvBA,cAGzBT,qBAAU,WACHS,GAAkBZ,IACrBpC,IACAoH,OAGD,CAAChF,IAYJ,OACE,mCACGoF,OAAOC,QAAQJ,GAAW3B,OACzB,uBAAMI,SAbS,SAACC,GACpBA,EAAEC,iBACF1E,EAAO,CACLd,KAAM,IAAIE,KACVH,KAAMH,EAAMkH,KACZzE,SAAU,uBACVvC,WAAY,YAOoB3B,UAAU,YAAxC,UACE,0BACEwB,KAAK,OACL8F,YAAY,4BACZC,aAAa,MACbvH,UAAU,YACVyB,MAAOA,EAAMkH,KACblB,SAAUnG,IAEZ,cAAC,EAAD,CAAgBvB,WAAW,EAA3B,SACE,wBAAQoF,KAAK,SAASuC,UAAWjG,EAAMkH,KAAvC,2BAMJ,cAAC,EAAD,OCtCKI,EAAW,WAAO,IAAD,EdLD,WAC3B,IAAMjF,EAAS,uCAAG,8BAAAjB,EAAA,+EAEc/B,EAAWyF,QAAQ,OAAQ,QAAQxD,MAFjD,OAERiF,EAFQ,OAGRW,EAAO,GACbX,EAAchF,SAAQ,SAACgG,GACrBL,EAAKxF,KAAL,aACET,GAAIsG,EAAStG,IACVsG,EAAS5F,YAMZC,EAAUC,SACZC,EAAS,2BACJC,GADG,IAENJ,KAAMuF,EACNlF,SAAS,EACTC,MAAO,QAlBG,gDAsBVL,EAAUC,SACZC,EAAS,2BACJC,GADG,IAENJ,KAAM,KACNK,SAAS,EACTC,MAAM,EAAD,MA3BK,yDAAH,qDADkB,EAkCPxC,mBAAS,CACjCyB,OAAQmB,EACRV,KAAM,GACNK,SAAS,EACTC,MAAO,OAtCwB,mBAkC1BF,EAlC0B,KAkCnBD,EAlCmB,KAwC3BF,EAAYM,kBAAO,GAUzB,OARAC,qBAAU,WAER,OADAE,IACO,WACLT,EAAUC,SAAU,KAGrB,IAEIE,Ec5C2ByF,GAA1BtG,EADoB,EACpBA,OAAQS,EADY,EACZA,KAAMK,EADM,EACNA,QAEtB,OACE,qCACE,cAAC,EAAD,CAAgBgF,WAAY9F,IAC5B,qBAAK3C,UAAU,eAAf,SACE,cAAC,EAAD,CAAgBD,UAAW0D,EAA3B,UACO,OAAJL,QAAI,IAAJA,OAAA,EAAAA,EAAM2D,QACL3D,EAAK4D,KAAI,SAACC,EAAMC,GACd,OAAO,cAAC,EAAD,2BAA4BD,GAA5B,IAAkCC,MAAOA,IAA1BD,EAAKvE,OAG7B,6DCnBCwG,EAAa,WAAO,IACvBR,EAAc1E,qBAAW/D,GAAzByI,UAER,OACE,qCACE,yBAAQ1I,UAAU,cAAlB,UACE,cAAC,IAAD,CAAMmJ,GAAInK,EAAaC,YAAae,UAAU,aAA9C,2BAGC6I,OAAOC,QAAQJ,GAAW3B,QAAU,oBAAGqC,MAAO,CAACC,WAAY,QAAvB,yBAA6CX,EAAUd,SAAvD,UAGvC,yBAAS5H,UAAU,eAAnB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEsJ,OAAK,EACLC,KAAMvK,EAAaC,YACnBuK,UAAWT,YCZVU,EAAY,WACvB,OACE,cAAC,IAAD,UACE,qBAAKzJ,UAAU,OAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuJ,KAAMvK,EAAaC,YAAauK,UAAWN,IAClD,cAAC,IAAD,CAAOK,KAAMvK,EAAa0K,YAAaF,UAAWzK,IAClD,cAAC,IAAD,CAAUoK,GAAInK,EAAaC,sB,iBCPxB0K,G,MAAU,WAAO,IAAD,EACSzI,mBAAS,CAC3CuD,QAAQ,EACRC,MAAO,GACP9C,KAAM,GACN+C,KAAM,KALmB,mBACpBiF,EADoB,KACR7F,EADQ,OAOO7C,mBAAS,IAPhB,mBAOpBwH,EAPoB,KAOTN,EAPS,KAQnB3D,EAA8BmF,EAA9BnF,OAAQC,EAAsBkF,EAAtBlF,MAAO9C,EAAegI,EAAfhI,KAAM+C,EAASiF,EAATjF,KAC7Bf,qBAAU,WACRa,GACEoF,IAAKC,KAAK,CACRpF,MAAOA,EACPqF,KAAMnI,EACN+C,KAAMA,GAAc,UACpBqF,kBAAmB,cAGtB,CAACJ,IAlBuB,MCTL,SAACK,GAEvB,IAAM5G,EAAYM,kBAAO,GAFM,EAGLzC,mBAAS,CACjCkC,KAAM,KACNK,SAAS,EACTC,MAAO,OANsB,mBAGxBF,EAHwB,KAGjBD,EAHiB,KAyC/B,OA7BAK,qBAAU,WACR,OAAO,WACLP,EAAUC,SAAU,KAErB,IAEHM,qBAAU,WAAM,4CACd,gCAAAf,EAAA,+EAE2BqH,MAAMD,GAFjC,cAEUE,EAFV,gBAG2BA,EAASC,OAHpC,gBAGYhH,EAHZ,EAGYA,KACJC,EAAUC,SACZC,EAAS,CACPE,SAAS,EACTC,MAAO,KACPN,SARR,kDAYIG,EAAS,CACPH,KAAM,KACNK,SAAS,EACTC,MAAO,8BAfb,2DADc,uBAAC,WAAD,wBAoBd2G,KACC,CAACJ,IAEGzG,EDbyB8G,CAAStL,EAAaK,kBAAxCkL,EAnBa,EAmBnBnH,KAAYK,EAnBO,EAmBPA,QAEpB,OACE,mCACE,cAAC,EAAD,CAAgB1D,UAAW0D,EAA3B,SACE,cAACtD,EAAD,CACEsB,MAAO,CAAEmI,aAAY7F,gBAAewG,OAAM7B,YAAWN,gBADvD,SAGE,cAAC,EAAD,YElCVoC,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDpF,SAASqF,eAAe,W","file":"static/js/main.98bf8269.chunk.js","sourcesContent":["import React from 'react'\n\nexport const Login = () => {\n    return (\n        <h1>\n          Inicio de sesión  \n        </h1>\n    )\n}\n","export const constantsApp = {\n\t//RUTAS\n\tROUTE_POSTS: '/',\n\tROUTE_ERROR: '/error',\n\n\t//ACCIONES A EJECUTAR EN EL CRUD\n\tACTION_CREATE: 'crear',\n\tACTION_EDIT: 'editar',\n\n\t//ENDPOINTS\n\tENDPOINT_LANG_ES: 'data/lang-es.json',\n\n\t//COLLECTIONS FIRESTORE\n\tCOLLECTION_POST: 'post-test',\n\tCOLLECTION_COMMENTS: 'comments',\n\tCOLLECTION_REACTIONS: 'reactions',\n\tCOLLECTION_USERS: 'users',\n\n\t//REACTIONS\n\tREACTION_LIKE: 'like',\n\tREACTION_DISLIKE: 'dislike',\n\tREACTION_AMAZING: 'amazing',\n};\n","import React from 'react';\n\nexport const ContentLoading = ({ children, isLoading = true }) => {\n  return (\n    <>\n      {isLoading ? (\n        <div className='lds-ring'>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      ) : (\n        <>{children}</>\n      )}\n    </>\n  );\n};\n","import { createContext } from 'react';\n\nconst AppContext = createContext([]);\n\nexport const AppContextProvider = AppContext.Provider;\nexport default AppContext;\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCNmqLe1d9z6esEbyQQ4wcIFA9EUA-Z0H4\",\n  authDomain: \"publicaciones-999c8.firebaseapp.com\",\n  projectId: \"publicaciones-999c8\",\n  storageBucket: \"publicaciones-999c8.appspot.com\",\n  messagingSenderId: \"551474545342\",\n  appId: \"1:551474545342:web:09126c401dd5f503f4d4ef\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase.firestore();\n","import { useState, useEffect, useRef, useContext } from 'react';\nimport { constantsApp } from '../config/constant';\n\nimport AppContext from '../context/AppContext';\nimport db from './config';\nconst collection = db.collection(constantsApp.COLLECTION_POST);\n\nexport const useGetAllPost = () => {\n  const actionGet = async () => {\n    try {\n      const querySnapshot = await collection.orderBy('date', 'desc').get();\n      const post = [];\n      querySnapshot.forEach((postSnap) => {\n        post.push({\n          id: postSnap.id,\n          ...postSnap.data(),\n        });\n      });\n      /**\n       * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n       */\n      if (isMounted.current) {\n        setState({\n          ...state,\n          data: post,\n          loading: false,\n          error: null,\n        });\n      }\n    } catch (error) {\n      if (isMounted.current) {\n        setState({\n          ...state,\n          data: null,\n          loading: false,\n          error: error,\n        });\n      }\n    }\n  };\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const [state, setState] = useState({\n    action: actionGet,\n    data: [],\n    loading: true,\n    error: null,\n  });\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    actionGet();\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return state;\n};\n\nexport const useAddPost = () => {\n  const action = async (payload) => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    collection\n      .add(payload)\n      .then((ref) => {\n        ref.set({ id: ref.id }, { merge: true }).then(() => {\n          setState({\n            ...state,\n            loading: false,\n            error: null,\n            isFirtsRender: false,\n          });\n          setStateModal({\n            title: 'Estado creado',\n            desc: 'Se ha creado la publicación',\n            isShow: true,\n          });\n        });\n      })\n      .catch(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: 'Ocurrio un error',\n          isFirtsRender: false,\n        });\n        setStateModal({\n          isShow: true,\n          title: 'Ocurrió un error.',\n          desc: 'No se pudo crear la publicación, intenta más tarde.',\n          icon: 'error',\n        });\n      });\n  };\n\n  const { setStateModal } = useContext(AppContext);\n  const [state, setState] = useState({\n    action,\n    loading: false,\n    error: null,\n    isFirtsRender: true,\n  });\n\n  return state;\n};\n","import { useState } from 'react';\n\n/**\n * Maneja el estado de los inputs en un formulario\n */\nexport const useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[target.name]: target.value,\n\t\t});\n\t};\n\n\treturn [values, handleInputChange, reset];\n};\n","export default __webpack_public_path__ + \"static/media/userIcon.18fcee80.png\";","import React from 'react';\nimport userICon from '../../images/userIcon.png';\n\nexport const PostItemComment = ({ nameAuthor, desc, date }) => {\n  const dateFormat = new Date(date?.toDate()).toLocaleDateString();\n  return (\n    <div className='comment'>\n      <div className='item-profile'>\n        <img className='profile-img' src={userICon} alt={nameAuthor}></img>\n      </div>\n      <div className='comment-section'>\n        <p className=\"title-name\">{nameAuthor}</p>\n        <p >{desc}</p>\n        <p className=\"text-time w-100\">{dateFormat}</p>\n      </div>\n    </div>\n  );\n};\n","import { useState, useEffect, useRef, useContext } from 'react';\nimport { constantsApp } from '../config/constant';\n\nimport AppContext from '../context/AppContext';\nimport db from './config';\nconst collection = db.collection(constantsApp.COLLECTION_POST);\n\nexport const useGetComments = (id) => {\n  const action = () => {\n    try {\n      const comments = [];\n      async function getproducts() {\n        const querySnapshot = await collection\n          .doc(id)\n          .collection(constantsApp.COLLECTION_COMMENTS)\n          .orderBy('date', 'desc')\n          .get();\n        querySnapshot.forEach((snap) => {\n          comments.push(snap.data());\n        });\n        if (isMounted.current) {\n          setState({\n            ...state,\n            data: comments,\n            loading: false,\n            error: null,\n          });\n        }\n      }\n      getproducts();\n    } catch (error) {\n      setState({\n        ...state,\n        data: null,\n        loading: false,\n        error: error,\n      });\n    }\n  };\n  const [state, setState] = useState({\n    action: action,\n    data: [],\n    loading: true,\n    error: null,\n  });\n  const isMounted = useRef(true);\n\n  /**\n   * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n   */\n  useEffect(() => {\n    isMounted.current = true;\n    action();\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return state;\n};\nexport const useAddComment = () => {\n  const action = (idPost, payload) => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    collection\n      .doc(idPost)\n      .collection(constantsApp.COLLECTION_COMMENTS)\n      .add(payload)\n      .then((ref) => {\n        ref.set({ id: ref.id }, { merge: true }).then(() => {\n          setState({\n            ...state,\n            loading: false,\n            error: null,\n            isFirtsRender: false,\n          });\n        });\n      })\n      .catch(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: 'Ocurrio un error',\n          isFirtsRender: false,\n        });\n        setStateModal({\n          isShow: true,\n          title: 'Ocurrió un error.',\n          desc: 'No se pudo agregar el comentaro, intenta más tarde.',\n          icon: 'error',\n        });\n      });\n  };\n  const { setStateModal } = useContext(AppContext);\n  const [state, setState] = useState({\n    action,\n    loading: false,\n    error: null,\n    isFirtsRender: true,\n  });\n\n  return state;\n};\n","export default __webpack_public_path__ + \"static/media/like.af5d7d6e.svg\";","export default __webpack_public_path__ + \"static/media/dislike.0ac9267e.svg\";","export default __webpack_public_path__ + \"static/media/amazing.8fe6536c.svg\";","import { useState, useEffect, useRef, useContext } from 'react';\nimport { constantsApp } from '../config/constant';\n\nimport AppContext from '../context/AppContext';\nimport db from './config';\nconst collection = db.collection(constantsApp.COLLECTION_POST);\n\nexport const useGetReactions = (id) => {\n  const action = () => {\n    try {\n      const comments = [];\n      async function getproducts() {\n        const querySnapshot = await collection\n          .doc(id)\n          .collection(constantsApp.COLLECTION_REACTIONS)\n          .get();\n        querySnapshot.forEach((snap) => {\n          comments.push(snap.data());\n        });\n        if (isMounted.current) {\n          setState({\n            ...state,\n            data: comments,\n            loading: false,\n            error: null,\n          });\n        }\n      }\n      getproducts();\n    } catch (error) {\n      setState({\n        ...state,\n        data: null,\n        loading: false,\n        error: error,\n      });\n    }\n  };\n  const [state, setState] = useState({\n    action: action,\n    data: [],\n    loading: true,\n    error: null,\n  });\n  const isMounted = useRef(true);\n\n  /**\n   * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n   */\n  useEffect(() => {\n    isMounted.current = true;\n    action();\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return state;\n};\nexport const useAddReaction = () => {\n  const action = (idPost, payload) => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    collection\n      .doc(idPost)\n      .collection(constantsApp.COLLECTION_REACTIONS)\n      .doc(payload.idAuthor)\n      .set(payload)\n      .then(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: null,\n          isFirtsRender: false,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        setState({\n          ...state,\n          loading: false,\n          error: 'Ocurrio un error',\n          isFirtsRender: false,\n        });\n        setStateModal({\n          isShow: true,\n          title: 'Ocurrió un error.',\n          desc:\n            'No fue posible reaccionar a la publicación, intenta más tarde.',\n          icon: 'error',\n        });\n      });\n  };\n  const { setStateModal } = useContext(AppContext);\n  const [state, setState] = useState({\n    action,\n    loading: false,\n    error: null,\n    isFirtsRender: true,\n  });\n\n  return state;\n};\n","import React, { useEffect, useState } from 'react';\n\nimport likeIcon from '../../images/like.svg';\nimport dislikeIcon from '../../images/dislike.svg';\nimport amazingIcon from '../../images/amazing.svg';\nimport {\n  useAddReaction,\n  useGetReactions,\n} from '../../firebase/reactionsFirebase';\nimport { constantsApp } from '../../config/constant';\nexport const ButtonsReaction = ({ idPost, setReactionsState }) => {\n  const [myReaction, setMyReaction] = useState('');\n  const { action: actionGet, data } = useGetReactions(idPost);\n  const {\n    action: actionAdd,\n    loading: loadingAdd,\n    isFirtsRender,\n  } = useAddReaction();\n  let isHover = false;\n\n  useEffect(() => {\n    if (!isFirtsRender && !loadingAdd) {\n      actionGet();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadingAdd]);\n\n  //Renderiza los circulos de reaccciones en el componente padre\n  useEffect(() => {\n    const totalTypesReaction = data.reduce(\n      (accum, { type, idAuthor }) => {\n        if (!accum[type]) accum[type] = 0;\n        accum[type] += 1;\n\n        if (idAuthor === 'KWfShEgVFQoLdDoULkw9') setMyReaction(type);\n\n        return accum;\n      },\n      {\n        [constantsApp.REACTION_AMAZING]: 0,\n        [constantsApp.REACTION_DISLIKE]: 0,\n        [constantsApp.REACTION_LIKE]: 0,\n      }\n    );\n    setReactionsState(totalTypesReaction);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  //Para mantener o quitar en determinado tiempo el popover de reacciones\n  const handleMouseEnterOrLeave = (isEnter) => {\n    if (isEnter) {\n      isHover = true;\n      document\n        .querySelector(`#popover-${idPost}`)\n        .classList.add('active-hover');\n    } else {\n      isHover &&\n        setTimeout(() => {\n          isHover = false;\n          document\n            .querySelector(`#popover-${idPost}`)\n            .classList.remove('active-hover');\n        }, 1000);\n    }\n  };\n\n  const handleClick = (reaction) => {\n    actionAdd(idPost, {\n      type: reaction,\n      idAuthor: 'KWfShEgVFQoLdDoULkw9',\n    });\n  };\n\n  return (\n    <div className='post-item-buttons popover'>\n      <p\n        className='trigger-popover'\n        onMouseEnter={() => {\n          handleMouseEnterOrLeave(true);\n        }}\n        onMouseLeave={() => {\n          handleMouseEnterOrLeave(false);\n        }}\n      >\n        {/* {data?.length > 0 ? data.filter((value) => {\n          if (value?.idAuthor === 'KWfShEgVFQoLdDoULkw9') {\n            if (value?.type === constantsApp.REACTION_LIKE)\n              return (\n                <>\n                  <img src={likeIcon} alt='like' /> Me Gusta\n                </>\n              );\n          } else if (value?.type === constantsApp.REACTION_DISLIKE) {\n            return (\n              <>\n                <img src={dislikeIcon} alt='dislike' /> No me Gusta\n              </>\n            );\n          } else if (value?.type === constantsApp.REACTION_AMAZING) {\n            return (\n              <>\n                <img src={amazingIcon} alt='amazing' /> Asombroso\n              </>\n            );\n          }\n        }) : 'Reacccionar'} */}\n        {myReaction === constantsApp.REACTION_LIKE && (\n          <>\n            <img src={likeIcon} alt='like' /> Me Gusta\n          </>\n        )}\n        {myReaction === constantsApp.REACTION_DISLIKE && (\n          <>\n            <img src={dislikeIcon} alt='like' /> No me Gusta\n          </>\n        )}\n        {myReaction === constantsApp.REACTION_AMAZING && (\n          <>\n            <img src={amazingIcon} alt='like' /> Asombroso\n          </>\n        )}\n        {!myReaction && 'Reacccionar'}\n      </p>\n      <div id={`popover-${idPost}`} className='popover-content'>\n        <div className='arrow'></div>\n\n        <img\n          src={likeIcon}\n          alt='like'\n          className='ml-10'\n          onClick={() => handleClick(constantsApp.REACTION_LIKE)}\n        />\n\n        <img\n          src={dislikeIcon}\n          alt='dislike'\n          onClick={() => handleClick(constantsApp.REACTION_DISLIKE)}\n        />\n\n        <img\n          src={amazingIcon}\n          alt='amazing'\n          onClick={() => handleClick(constantsApp.REACTION_AMAZING)}\n        />\n      </div>\n      <p>Comentar</p>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n//hooks\nimport { useForm } from '../../hooks/useForm';\n//components\nimport { ContentLoading } from '../commons/ContentLoading';\nimport { PostItemComment } from './PostItemComment';\n//resources\nimport userICon from '../../images/userIcon.png';\nimport { useAddComment, useGetComments } from '../../firebase/commentsFirebase';\nimport { ButtonsReaction } from './ButtonsReaction';\nimport { constantsApp } from '../../config/constant';\n\nexport const PostItem = ({ id, desc, nameAuthor, date }) => {\n  const [reactionsState, setReactionsState] = useState({\n    [constantsApp.REACTION_AMAZING]: 0,\n    [constantsApp.REACTION_DISLIKE]: 0,\n    [constantsApp.REACTION_LIKE]: 0,});\n  //hook para el formulario de agrgar comentario\n  const [value, handleInputChange, reset] = useForm({ comment: '' });\n  const { action: actionGet, data } = useGetComments(id);\n  const {\n    action: actionAdd,\n    loading: loadingAdd,\n    isFirtsRender,\n  } = useAddComment();\n  const dateFormat = new Date(date?.toDate()).toLocaleDateString();\n  //Use effect que se ejecuta acciones\n  useEffect(() => {\n    //Se valida con isFirtsRender de que no se ejecute la 1ra vez, solo en mutaciones del estado loadingAdd posteriores a este\n    if (!isFirtsRender && !loadingAdd) {\n      reset();\n      actionGet();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loadingAdd]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    actionAdd(id, {\n      date: new Date(),\n      desc: value.comment,\n      idAuthor: 'KWfShEgVFQoLdDoULkw8',\n      nameAuthor: 'Admin',\n    });\n    reset();\n  };\n\n  return (\n    <>\n      <div className={`post-item my-2 `}>\n        <div className='post-item-content'>\n          <div className='item-profile'>\n            <img className='profile-img' src={userICon} alt={nameAuthor}></img>\n          </div>\n          <div className='post-item-desc'>\n            <div className='post-desc-group-name'>\n              <p className='post-item-name title-name'>{nameAuthor}</p>\n              <p className='post-item-time text-time'>{dateFormat}</p>\n            </div>\n            <p>{desc}</p>\n\n            <ButtonsReaction\n              idPost={id}\n              setReactionsState={setReactionsState}\n            />\n          </div>\n        </div>\n\n        <div className='post-item-reaction'>\n          <div className='reactions-group-circles'>\n            {reactionsState?.like > 0 && <div className='circle-likes'></div>}\n            {reactionsState?.dislike > 0 && (\n              <div className='circle-dislike'></div>\n            )}\n            {reactionsState?.amazing > 0 && (\n              <div className='circle-amazing'></div>\n            )}\n            <p>\n              {reactionsState?.amazing +\n                reactionsState?.like +\n                reactionsState?.dislike}\n            </p>\n          </div>\n          <p>\n            {data.length > 0 && (\n              <>\n                {data.length} comentario{data.length > 1 && 's'}\n              </>\n            )}\n          </p>\n        </div>\n\n        <div className='comments-list'>\n          {data &&\n            data.map((item, index) => {\n              return (\n                <div key={item.id}>\n                  <PostItemComment {...item} index={index} />\n                </div>\n              );\n            })}\n        </div>\n\n        <form onSubmit={handleSubmit} className={`comment-form `}>\n          <textarea\n            name='comment'\n            placeholder='Escribe un comentario'\n            autoComplete='off'\n            rows='1'\n            className='comment'\n            value={value.comment}\n            onChange={handleInputChange}\n          ></textarea>\n          <ContentLoading isLoading={false}>\n            <button type='submit' disabled={!value.comment}>\n              <span>Publicar</span>\n            </button>\n          </ContentLoading>\n        </form>\n      </div>\n    </>\n  );\n};\n","import { useState, useEffect, useRef, useContext } from 'react';\nimport { constantsApp } from '../config/constant';\n\nimport AppContext from '../context/AppContext';\nimport db from './config';\nconst collection = db.collection(constantsApp.COLLECTION_USERS);\n\nexport const useLogin = () => {\n  const actionGet = async ({ userName, password }) => {\n    try {\n      const querySnapshot = await collection\n        .where('userName', '==', userName)\n        .where('password', '==', password)\n        .limit(1)\n        .get();\n      let user = {};\n      querySnapshot.forEach((userSnap) => {\n        const data = userSnap.data();\n        console.log(data);\n        if (data) {\n          user = {\n            id: data.id,\n            userName: data.userName,\n            isAdmin: data.isAdmin,\n          };\n        }\n      });\n      /**\n       * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n       */\n      if (isMounted.current) {\n        setStateUser(user);\n        setState({\n          ...state,\n          loading: false,\n          error: null,\n        });\n      }\n    } catch (error) {\n      if (isMounted.current) {\n        setState({\n          ...state,\n          loading: false,\n          error: error,\n        });\n      }\n    }\n  };\n\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const [state, setState] = useState({\n    action: actionGet,\n    loading: true,\n    error: null,\n  });\n  const { setStateUser } = useContext(AppContext);\n  const isMounted = useRef(true);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return state;\n};\n\nexport const useRegister = () => {\n  const action = async (payload) => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    collection\n      .add(payload)\n      .then((ref) => {\n        ref.set({ id: ref.id }, { merge: true }).then(() => {\n          setState({\n            ...state,\n            loading: false,\n            error: null,\n            isFirtsRender: false,\n          });\n          setStateModal({\n            title: 'Estado creado',\n            desc: 'Se ha creado la publicación',\n            isShow: true,\n          });\n        });\n      })\n      .catch(() => {\n        setState({\n          ...state,\n          loading: false,\n          error: 'Ocurrio un error',\n          isFirtsRender: false,\n        });\n        setStateModal({\n          isShow: true,\n          title: 'Ocurrió un error.',\n          desc: 'No se pudo crear la publicación, intenta más tarde.',\n          icon: 'error',\n        });\n      });\n  };\n\n  const { setStateModal } = useContext(AppContext);\n  const [state, setState] = useState({\n    action,\n    loading: false,\n    error: null,\n    isFirtsRender: true,\n  });\n\n  return state;\n};\n","import React from 'react';\nimport { useLogin } from '../../firebase/userFirebase';\nimport { useForm } from '../../hooks/useForm';\nimport { ContentLoading } from '../commons/ContentLoading';\n\nexport const UserForm = () => {\n  const [value, handleInputChange, reset] = useForm({\n    userName: '',\n    password: '',\n  });\n\n  const {\n    action: actionLogin,\n    loading\n  } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    actionLogin(value);\n    reset();\n  };\n  return (\n    <>\n      <form onSubmit={handleSubmit} className='form-login'>\n        <div className='section-inputs'>\n          <div className='input-group'>\n            <label htmlFor='user'>Usuario:</label>\n            <input\n              type='text'\n              id='user'\n              name='userName'\n              autoComplete='off'\n              onChange={handleInputChange}\n              value={value.userName}\n              placeholder='Ingresa el usuario'\n            />\n          </div>\n          <div className='input-group'>\n            <label htmlFor='pass'>Password:</label>\n            <input\n              type='password'\n              id='pass'\n              name='password'\n              autoComplete='off'\n              onChange={handleInputChange}\n              placeholder='Ingresa la contraseña'\n              value={value.password}\n            />\n          </div>\n        </div>\n        <ContentLoading isLoading={!loading}>\n          <div className='section-buttons'>\n            <button type='submit' disabled={!value.userName || !value.password}>\n              Iniciar sesión\n            </button>\n            <p>o</p>\n            <button type='submit' disabled={!value.userName || !value.password}>\n              Registrarse\n            </button>\n          </div>\n        </ContentLoading>\n      </form>\n    </>\n  );\n};\n","import React, { useContext, useEffect } from 'react';\nimport AppContext from '../../context/AppContext';\nimport { useAddPost } from '../../firebase/postFirebase';\nimport { useForm } from '../../hooks/useForm';\nimport { ContentLoading } from '../commons/ContentLoading';\nimport { UserForm } from '../user/UserForm';\n\nexport const PostItemCreate = ({ getAllPost }) => {\n  const { stateUser } = useContext(AppContext);\n  const [value, handleInputChange, reset] = useForm({ post: '' });\n  const { action, loading, isFirtsRender } = useAddPost();\n\n  //Use effect que se ejecuta acciones\n  useEffect(() => {\n    if (!isFirtsRender && !loading) {\n      reset();\n      getAllPost();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loading]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    action({\n      date: new Date(),\n      desc: value.post,\n      idAuthor: 'e3Op7jLzPe3gJIdbmmzH',\n      nameAuthor: 'Juan 2',\n    });\n  };\n\n  return (\n    <>\n      {Object.entries(stateUser).length ? (\n        <form onSubmit={handleSubmit} className='post-form'>\n          <textarea\n            name='post'\n            placeholder='Escribe aquí tu estado'\n            autoComplete='off'\n            className='post-text'\n            value={value.post}\n            onChange={handleInputChange}\n          ></textarea>\n          <ContentLoading isLoading={false}>\n            <button type='submit' disabled={!value.post}>\n              Publicar\n            </button>\n          </ContentLoading>\n        </form>\n      ) : (\n        <UserForm />\n      )}\n    </>\n  );\n};\n","import React from 'react';\n\n//Components\nimport { ContentLoading } from '../commons/ContentLoading';\n\n//config\n\n//hooks\nimport { useGetAllPost } from '../../firebase/postFirebase';\nimport { PostItem } from './PostItem';\nimport { PostItemCreate } from './PostItemCreate';\n\nexport const PostList = () => {\n  const { action, data, loading } = useGetAllPost();\n\n  return (\n    <>\n      <PostItemCreate getAllPost={action} />\n      <div className='content-list'>\n        <ContentLoading isLoading={loading}>\n          {data?.length ? (\n            data.map((item, index) => {\n              return <PostItem key={item.id} {...item} index={index}/>;\n            })\n          ) : (\n            <p>No hay publicaciones</p>\n          )}\n        </ContentLoading>\n      </div>\n    </>\n  );\n};\n","import React, { useContext } from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport { PostList } from '../components/post/PostList';\nimport { constantsApp } from '../config/constant';\nimport AppContext from '../context/AppContext';\n\nexport const PostRouter = () => {\n  const { stateUser } = useContext(AppContext);\n\n  return (\n    <>\n      <header className='post-banner'>\n        <Link to={constantsApp.ROUTE_POSTS} className='post-title'>\n          Publicaciones\n        </Link>\n        {Object.entries(stateUser).length && <p style={{marginLeft: 'auto'}}>Bienvenido, {stateUser.userName} </p>}\n      </header>\n\n      <section className='post-section'>\n        <Switch>\n          <Route\n            exact\n            path={constantsApp.ROUTE_POSTS}\n            component={PostList}\n          />\n        </Switch>\n      </section>\n    </>\n  );\n};\n","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { Login } from '../components/account/Login';\nimport { constantsApp } from '../config/constant';\nimport { PostRouter } from './PostRouter';\n\nexport const AppRouter = () => {\n  return (\n    <Router>\n      <div className='main'>\n        <Switch>\n          <Route path={constantsApp.ROUTE_POSTS} component={PostRouter} />\n          <Route path={constantsApp.ROUTE_LOGIN} component={Login} />\n          <Redirect to={constantsApp.ROUTE_POSTS} />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { AppRouter } from './routers/AppRouter';\nimport { AppContextProvider } from './context/AppContext';\nimport Swal from 'sweetalert2';\n\nimport { useFetch } from './hooks/useFetch';\nimport { constantsApp } from './config/constant';\nimport { ContentLoading } from './components/commons/ContentLoading';\n\nimport './styles/styles.scss';\n\nexport const FoodApp = () => {\n  const [stateModal, setStateModal] = useState({\n    isShow: false,\n    title: '',\n    desc: '',\n    icon: '',\n  });\n  const [stateUser, setStateUser] = useState({});\n  const { isShow, title, desc, icon } = stateModal;\n  useEffect(() => {\n    isShow &&\n      Swal.fire({\n        title: title,\n        text: desc,\n        icon: icon ? icon : 'success',\n        confirmButtonText: 'Aceptar',\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stateModal]);\n  const { data: lang, loading } = useFetch(constantsApp.ENDPOINT_LANG_ES);\n\n  return (\n    <>\n      <ContentLoading isLoading={loading}>\n        <AppContextProvider\n          value={{ stateModal, setStateModal, lang, stateUser, setStateUser }}\n        >\n          <AppRouter />\n        </AppContextProvider>\n      </ContentLoading>\n    </>\n  );\n};\n","import { useState, useEffect, useRef } from 'react';\n\nexport const useFetch = (url) => {\n  //Ref para evitar que se genere un error al desmontarse un componente antes que la peticion responda\n  const isMounted = useRef(true);\n  const [state, setState] = useState({\n    data: null,\n    loading: true,\n    error: null,\n  });\n\n  /**\n   * Validacion que evita que se mute el estado en caso que el componente que llamo este hook sea desmontado\n   */\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const response = await fetch(url);\n        const { data } = await response.json();\n        if (isMounted.current) {\n          setState({\n            loading: false,\n            error: null,\n            data,\n          });\n        }\n      } catch (error) {\n        setState({\n          data: null,\n          loading: false,\n          error: 'No se pudo cargar la info',\n        });\n      }\n    }\n    fetchData();\n  }, [url]);\n\n  return state;\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { FoodApp } from './FoodApp';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<FoodApp />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}